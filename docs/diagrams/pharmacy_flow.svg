<svg xmlns="http://www.w3.org/2000/svg" width="960" height="220" viewBox="0 0 960 220">
  <defs>
    <marker id="arrow3" markerWidth="10" markerHeight="10" refX="10" refY="5" orient="auto">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#0a3d62" />
    </marker>
    <style>
      .box{fill:#fff;stroke:#0a3d62;stroke-width:2;rx:6}
      .text{font-family:Arial, Helvetica, sans-serif;font-size:14px;fill:#111}
    </style>
  </defs>

  <rect x="20" y="40" width="180" height="40" class="box" />
  <text x="110" y="65" text-anchor="middle" class="text">接收处方 / 任务</text>

  <rect x="240" y="40" width="180" height="40" class="box" />
  <text x="330" y="65" text-anchor="middle" class="text">检查库存</text>

  <g transform="translate(520,40)">
    <polygon points="70,0 140,40 70,80 0,40" class="box" style="fill:#fff;" />
    <text x="70" y="45" text-anchor="middle" class="text">库存充足?</text>
  </g>

  <rect x="760" y="20" width="180" height="40" class="box" />
  <text x="850" y="45" text-anchor="middle" class="text">配药并出库</text>

  <rect x="760" y="100" width="180" height="40" class="box" />
  <text x="850" y="125" text-anchor="middle" class="text">库存不足：发起采购或告知医生</text>

  <line x1="200" y1="60" x2="240" y2="60" stroke="#0a3d62" stroke-width="2" marker-end="url(#arrow3)" />
  <line x1="420" y1="60" x2="520" y2="60" stroke="#0a3d62" stroke-width="2" marker-end="url(#arrow3)" />
  <line x1="660" y1="60" x2="760" y2="40" stroke="#0a3d62" stroke-width="2" marker-end="url(#arrow3)" />
  <line x1="660" y1="60" x2="760" y2="120" stroke="#0a3d62" stroke-width="2" marker-end="url(#arrow3)" />

  <rect x="760" y="160" width="180" height="40" class="box" />
  <text x="850" y="185" text-anchor="middle" class="text">更新库存并记录发药日志</text>

  <line x1="940" y1="60" x2="940" y2="160" stroke="#0a3d62" stroke-width="2" marker-end="url(#arrow3)" />

  <text x="480" y="18" text-anchor="middle" class="text" style="font-weight:bold;">药房配药流程</text>
</svg>