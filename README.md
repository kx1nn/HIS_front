# HIS æ™ºæ…§åŒ»ç–—ç³»ç»Ÿ (å‰ç«¯)

åŸºäº **React 19 + TypeScript + Vite** æ„å»ºçš„åŒ»é™¢ä¿¡æ¯ç®¡ç†ç³»ç»Ÿå‰ç«¯ï¼Œæä¾›åŒ»ç”Ÿã€æŠ¤å£«ã€è¯æˆ¿ç­‰å¤šè§’è‰²å·¥ä½œå°ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- ğŸ” **ç»Ÿä¸€è®¤è¯** - JWT Token è®¤è¯ï¼Œæ”¯æŒè‡ªåŠ¨åˆ·æ–°ä¸è§’è‰²æƒé™æ§åˆ¶
- ğŸ‘¨â€âš•ï¸ **åŒ»ç”Ÿå·¥ä½œå°** - å€™è¯Šåˆ—è¡¨ã€æ¥è¯Šã€ç—…å†ä¹¦å†™ã€å¤„æ–¹å¼€å…·
- ğŸ‘©â€âš•ï¸ **æŠ¤å£«å·¥ä½œç«™** - æŒ‚å·å»ºæ¡£ã€æ‚£è€…ç®¡ç†ã€æ”¶è´¹ç»“ç®—
- ğŸ’Š **è¯æˆ¿å·¥ä½œå°** - å¤„æ–¹å‘è¯ã€åº“å­˜æŸ¥è¯¢ã€æ•ˆæœŸé¢„è­¦
- ğŸ› ï¸ **åå°ç®¡ç†** - ç³»ç»Ÿç›‘æ§ã€æ—¥å¿—æŸ¥çœ‹ã€æ•°æ®ç»Ÿè®¡

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

| ç±»åˆ«        | æŠ€æœ¯                  |
| ----------- | --------------------- |
| æ¡†æ¶        | React 19 + TypeScript |
| æ„å»º        | Vite 7                |
| çŠ¶æ€ç®¡ç†    | Zustand               |
| HTTP å®¢æˆ·ç«¯ | Axios                 |
| æ ·å¼        | Tailwind CSS 4        |
| è·¯ç”±        | React Router DOM 7    |
| å›¾æ ‡        | Lucide React          |

## ğŸ“‚ ç›®å½•ç»“æ„

```
src/
â”œâ”€â”€ assets/           # é™æ€èµ„æº
â”œâ”€â”€ components/       # å…¬å…±ç»„ä»¶
â”‚   â”œâ”€â”€ ErrorBoundary.tsx    # å…¨å±€é”™è¯¯è¾¹ç•Œ
â”‚   â”œâ”€â”€ Layout/              # å¸ƒå±€ç»„ä»¶
â”‚   â”œâ”€â”€ PrivateRoute.tsx     # è·¯ç”±å®ˆå«ï¼ˆTokenéªŒè¯+è§’è‰²æ£€æŸ¥ï¼‰
â”‚   â””â”€â”€ ToastContainer.tsx   # å…¨å±€é€šçŸ¥ç»„ä»¶
â”œâ”€â”€ pages/            # é¡µé¢è§†å›¾
â”‚   â”œâ”€â”€ Login/               # ç™»å½•é¡µ
â”‚   â”œâ”€â”€ DoctorStation/       # åŒ»ç”Ÿå·¥ä½œå°
â”‚   â”œâ”€â”€ NurseStation/        # æŠ¤å£«å·¥ä½œç«™
â”‚   â”œâ”€â”€ PharmacyStation/     # è¯æˆ¿å·¥ä½œå°
â”‚   â””â”€â”€ Admin/               # åå°ç®¡ç†
â”œâ”€â”€ services/         # æœåŠ¡å±‚
â”‚   â”œâ”€â”€ api.ts               # API å°è£…ï¼ˆå«æ‹¦æˆªå™¨ã€Tokenåˆ·æ–°ï¼‰
â”‚   â”œâ”€â”€ authStorage.ts       # è®¤è¯ä¿¡æ¯å­˜å‚¨
â”‚   â””â”€â”€ logger.ts            # ç»Ÿä¸€æ—¥å¿—å·¥å…·
â”œâ”€â”€ store/            # çŠ¶æ€ç®¡ç†
â”‚   â””â”€â”€ store.ts             # Zustand å…¨å±€çŠ¶æ€
â”œâ”€â”€ types/            # TypeScript ç±»å‹å®šä¹‰
â”‚   â””â”€â”€ index.ts             # ä¸šåŠ¡ç±»å‹ï¼šPatient, Doctor, Prescription ç­‰
â”œâ”€â”€ utils/            # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ validators.ts        # è¡¨å•éªŒè¯ï¼ˆèº«ä»½è¯ã€æ‰‹æœºå·ç­‰ï¼‰
â”œâ”€â”€ App.tsx           # è·¯ç”±é…ç½®
â”œâ”€â”€ main.tsx          # åº”ç”¨å…¥å£
â””â”€â”€ index.css         # å…¨å±€æ ·å¼
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js >= 18
- npm >= 9

### å®‰è£…ä¸è¿è¡Œ

```bash
# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# ä»£ç æ£€æŸ¥
npm run lint

# ç±»å‹æ£€æŸ¥
npx tsc --noEmit
```

### ç¯å¢ƒå˜é‡é…ç½®

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.env.local` æ–‡ä»¶ï¼š

```env
# API åŸºç¡€è·¯å¾„ï¼ˆé»˜è®¤ /apiï¼‰
VITE_API_BASE=/api

# åç«¯æœåŠ¡åœ°å€ï¼ˆç”¨äºå¼€å‘ä»£ç†ï¼‰
VITE_API_TARGET=http://localhost:8080
```

## ğŸ“¡ API ä»£ç†é…ç½®

å¼€å‘ç¯å¢ƒé€šè¿‡ Vite ä»£ç†è§£å†³è·¨åŸŸé—®é¢˜ï¼š

```typescript
// vite.config.ts
server: {
  proxy: {
    '/api': {
      target: env.VITE_API_TARGET,
      changeOrigin: true,
      rewrite: (path) => path.replace(/^\/api/, '')
    },
    '/auth': {
      target: env.VITE_API_TARGET,
      changeOrigin: true,
    }
  }
}
```

## ğŸ” è®¤è¯æœºåˆ¶

1. **ç™»å½•æµç¨‹**ï¼šè°ƒç”¨ `/auth/login` è·å– JWT Token
2. **Token å­˜å‚¨**ï¼šå­˜å‚¨äº localStorageï¼ˆ`his_token`ï¼‰
3. **è¯·æ±‚æ‹¦æˆª**ï¼šè‡ªåŠ¨åœ¨è¯·æ±‚å¤´æ·»åŠ  `Authorization: Bearer <token>`
4. **Token åˆ·æ–°**ï¼š401 å“åº”æ—¶è‡ªåŠ¨è°ƒç”¨ `/auth/refresh` åˆ·æ–°
5. **è§’è‰²éªŒè¯**ï¼šè·¯ç”±å®ˆå«æ£€æŸ¥ç”¨æˆ·è§’è‰²ä¸é¡µé¢æƒé™åŒ¹é…

## ğŸ§ª è¡¨å•éªŒè¯

å†…ç½®å®Œæ•´çš„è¡¨å•éªŒè¯å·¥å…· (`src/utils/validators.ts`)ï¼š

```typescript
import { validateIdCard, validatePhone, parseIdCard } from "@/utils/validators";

// èº«ä»½è¯éªŒè¯ï¼ˆå«æ ¡éªŒä½ï¼‰
validateIdCard("110101199003077777"); // { valid: true }

// æ‰‹æœºå·éªŒè¯
validatePhone("13800138000"); // { valid: true }

// ä»èº«ä»½è¯æå–ä¿¡æ¯
parseIdCard("110101199003077777");
// { gender: 1, birthDate: '1990-03-07', age: 34 }
```

## ğŸ“ å¼€å‘è§„èŒƒ

### ä»£ç é£æ ¼

- ä½¿ç”¨ ESLint + TypeScript ESLint è¿›è¡Œä»£ç æ£€æŸ¥
- ç»„ä»¶ä½¿ç”¨å‡½æ•°å¼ç»„ä»¶ + Hooks
- çŠ¶æ€ç®¡ç†ç»Ÿä¸€ä½¿ç”¨ Zustand

### å‘½åè§„èŒƒ

- ç»„ä»¶æ–‡ä»¶ï¼šPascalCaseï¼ˆå¦‚ `PrivateRoute.tsx`ï¼‰
- å·¥å…·æ–‡ä»¶ï¼šcamelCaseï¼ˆå¦‚ `validators.ts`ï¼‰
- ç±»å‹å®šä¹‰ï¼šPascalCaseï¼ˆå¦‚ `PatientVO`ï¼‰

### Git æäº¤

```
feat: æ–°åŠŸèƒ½
fix: Bug ä¿®å¤
docs: æ–‡æ¡£æ›´æ–°
style: ä»£ç æ ¼å¼
refactor: é‡æ„
perf: æ€§èƒ½ä¼˜åŒ–
test: æµ‹è¯•ç›¸å…³
chore: æ„å»º/å·¥å…·é“¾
```

## ğŸ“„ License

MIT
